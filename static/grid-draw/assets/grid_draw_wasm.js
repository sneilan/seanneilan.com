let i;function o(t){const e=i.__externref_table_alloc();return i.__wbindgen_externrefs.set(e,t),e}function a(t,e){return t=t>>>0,W(t,e)}let g=null;function w(){return(g===null||g.byteLength===0)&&(g=new Uint8Array(i.memory.buffer)),g}function h(t,e){try{return t.apply(this,e)}catch(n){const r=o(n);i.__wbindgen_exn_store(r)}}function f(t){return t==null}function m(t,e,n){if(n===void 0){const c=l.encode(t),b=e(c.length,1)>>>0;return w().subarray(b,b+c.length).set(c),u=c.length,b}let r=t.length,s=e(r,1)>>>0;const y=w();let _=0;for(;_<r;_++){const c=t.charCodeAt(_);if(c>127)break;y[s+_]=c}if(_!==r){_!==0&&(t=t.slice(_)),s=n(s,r,r=_+t.length*3,1)>>>0;const c=w().subarray(s+_,s+r),b=l.encodeInto(t,c);_+=b.written,s=n(s,r,_,1)>>>0}return u=_,s}function S(t){const e=i.__wbindgen_externrefs.get(t);return i.__externref_table_dealloc(t),e}let d=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});d.decode();const A=2146435072;let p=0;function W(t,e){return p+=e,p>=A&&(d=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),d.decode(),p=e),d.decode(w().subarray(t,t+e))}const l=new TextEncoder;"encodeInto"in l||(l.encodeInto=function(t,e){const n=l.encode(t);return e.set(n),{read:t.length,written:n.length}});let u=0;const v=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>i.__wbg_gridcanvas_free(t>>>0,1));class E{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,v.unregister(this),e}free(){const e=this.__destroy_into_raw();i.__wbg_gridcanvas_free(e,0)}handle_click(e,n){i.gridcanvas_handle_click(this.__wbg_ptr,e,n)}get_cell_size(){return i.gridcanvas_get_cell_size(this.__wbg_ptr)}get_grid_size(){return i.gridcanvas_get_grid_size(this.__wbg_ptr)>>>0}set_fill_color(e){const n=m(e,i.__wbindgen_malloc,i.__wbindgen_realloc),r=u;i.gridcanvas_set_fill_color(this.__wbg_ptr,n,r)}constructor(e){const n=m(e,i.__wbindgen_malloc,i.__wbindgen_realloc),r=u,s=i.gridcanvas_new(n,r);if(s[2])throw S(s[1]);return this.__wbg_ptr=s[0]>>>0,v.register(this,this.__wbg_ptr,this),this}clear(){i.gridcanvas_clear(this.__wbg_ptr)}render(){i.gridcanvas_render(this.__wbg_ptr)}get_cell(e,n){return i.gridcanvas_get_cell(this.__wbg_ptr,e,n)!==0}set_cell(e,n,r){i.gridcanvas_set_cell(this.__wbg_ptr,e,n,r)}}Symbol.dispose&&(E.prototype[Symbol.dispose]=E.prototype.free);const R=new Set(["basic","cors","default"]);async function C(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(r){if(t.ok&&R.has(t.type)&&t.headers.get("Content-Type")!=="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}else{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}function T(){const t={};return t.wbg={},t.wbg.__wbg___wbindgen_is_undefined_f6b95eab589e0269=function(e){return e===void 0},t.wbg.__wbg___wbindgen_throw_dd24417ed36fc46e=function(e,n){throw new Error(a(e,n))},t.wbg.__wbg_beginPath_08eae248f93ea32d=function(e){e.beginPath()},t.wbg.__wbg_call_abb4ff46ce38be40=function(){return h(function(e,n){return e.call(n)},arguments)},t.wbg.__wbg_document_5b745e82ba551ca5=function(e){const n=e.document;return f(n)?0:o(n)},t.wbg.__wbg_fillRect_84131220403e26a4=function(e,n,r,s,y){e.fillRect(n,r,s,y)},t.wbg.__wbg_getContext_01f42b234e833f0a=function(){return h(function(e,n,r){const s=e.getContext(a(n,r));return f(s)?0:o(s)},arguments)},t.wbg.__wbg_getElementById_e05488d2143c2b21=function(e,n,r){const s=e.getElementById(a(n,r));return f(s)?0:o(s)},t.wbg.__wbg_instanceof_CanvasRenderingContext2d_d070139aaac1459f=function(e){let n;try{n=e instanceof CanvasRenderingContext2D}catch{n=!1}return n},t.wbg.__wbg_instanceof_HtmlCanvasElement_c4251b1b6a15edcc=function(e){let n;try{n=e instanceof HTMLCanvasElement}catch{n=!1}return n},t.wbg.__wbg_instanceof_Window_b5cf7783caa68180=function(e){let n;try{n=e instanceof Window}catch{n=!1}return n},t.wbg.__wbg_lineTo_4b884d8cebfc8c54=function(e,n,r){e.lineTo(n,r)},t.wbg.__wbg_moveTo_36127921f1ca46a5=function(e,n,r){e.moveTo(n,r)},t.wbg.__wbg_new_no_args_cb138f77cf6151ee=function(e,n){return new Function(a(e,n))},t.wbg.__wbg_set_fillStyle_c9a0550307cd4671=function(e,n,r){e.fillStyle=a(n,r)},t.wbg.__wbg_set_lineWidth_feda4b79a15c660b=function(e,n){e.lineWidth=n},t.wbg.__wbg_set_strokeStyle_697a576d2d3fbeaa=function(e,n,r){e.strokeStyle=a(n,r)},t.wbg.__wbg_static_accessor_GLOBAL_769e6b65d6557335=function(){const e=typeof global>"u"?null:global;return f(e)?0:o(e)},t.wbg.__wbg_static_accessor_GLOBAL_THIS_60cf02db4de8e1c1=function(){const e=typeof globalThis>"u"?null:globalThis;return f(e)?0:o(e)},t.wbg.__wbg_static_accessor_SELF_08f5a74c69739274=function(){const e=typeof self>"u"?null:self;return f(e)?0:o(e)},t.wbg.__wbg_static_accessor_WINDOW_a8924b26aa92d024=function(){const e=typeof window>"u"?null:window;return f(e)?0:o(e)},t.wbg.__wbg_stroke_a18b81eb49ff370e=function(e){e.stroke()},t.wbg.__wbindgen_cast_2241b6af4c4b2941=function(e,n){return a(e,n)},t.wbg.__wbindgen_init_externref_table=function(){const e=i.__wbindgen_externrefs,n=e.grow(4);e.set(0,void 0),e.set(n+0,void 0),e.set(n+1,null),e.set(n+2,!0),e.set(n+3,!1)},t}function x(t,e){return i=t.exports,O.__wbindgen_wasm_module=e,g=null,i.__wbindgen_start(),i}function L(t){if(i!==void 0)return i;typeof t<"u"&&(Object.getPrototypeOf(t)===Object.prototype?{module:t}=t:console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));const e=T();t instanceof WebAssembly.Module||(t=new WebAssembly.Module(t));const n=new WebAssembly.Instance(t,e);return x(n,t)}async function O(t){if(i!==void 0)return i;typeof t<"u"&&(Object.getPrototypeOf(t)===Object.prototype?{module_or_path:t}=t:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof t>"u"&&(t=new URL("/grid-draw/assets/grid_draw_wasm_bg.wasm",import.meta.url));const e=T();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:n,module:r}=await C(await t,e);return x(n,r)}export{E as GridCanvas,O as default,L as initSync};
